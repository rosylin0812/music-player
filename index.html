<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-black text-white">
    <div id="root"></div>

    <script>
        const { useState, useEffect, useRef } = React;

        function MusicPlayer() {
            const [playlists, setPlaylists] = useState([]);
            const [activePlaylist, setActivePlaylist] = useState(null);
            const [currentSong, setCurrentSong] = useState(null);
            const [isPlaying, setIsPlaying] = useState(false);
            const [repeat, setRepeat] = useState(false);
            const [shuffle, setShuffle] = useState(false);
            const [progress, setProgress] = useState(0);
            const [volume, setVolume] = useState(80);
            const [draggedSong, setDraggedSong] = useState(null);
            const [showUrlInput, setShowUrlInput] = useState(false);
            const [urlInput, setUrlInput] = useState('');
            const [showPlaylistModal, setShowPlaylistModal] = useState(false);
            const [newPlaylistName, setNewPlaylistName] = useState('');
            const [confirmDelete, setConfirmDelete] = useState(null);
            const audioRef = useRef(null);
            const fileInputRef = useRef(null);

            useEffect(() => {
                const saved = localStorage.getItem('music-playlists');
                if (saved) {
                    try {
                        setPlaylists(JSON.parse(saved));
                    } catch (e) {
                        console.error('Failed to load playlists');
                    }
                }
            }, []);

            useEffect(() => {
                if (playlists.length > 0) {
                    localStorage.setItem('music-playlists', JSON.stringify(playlists));
                }
            }, [playlists]);

            useEffect(() => {
                if (audioRef.current && currentSong) {
                    audioRef.current.src = currentSong.url;
                    audioRef.current.load();
                    
                    if (isPlaying) {
                        audioRef.current.play().catch(err => {
                            console.error('Play failed:', err);
                            setIsPlaying(false);
                        });
                    }
                }
            }, [currentSong]);

            useEffect(() => {
                if (audioRef.current && currentSong) {
                    if (isPlaying) {
                        audioRef.current.play().catch(err => {
                            console.error('Play failed:', err);
                            setIsPlaying(false);
                        });
                    } else {
                        audioRef.current.pause();
                    }
                }
            }, [isPlaying]);

            useEffect(() => {
                if (audioRef.current) {
                    audioRef.current.volume = volume / 100;
                }
            }, [volume]);

            const createPlaylist = () => {
                setShowPlaylistModal(true);
            };

            const handleCreatePlaylist = () => {
                if (newPlaylistName.trim()) {
                    const newPlaylist = {
                        id: Date.now(),
                        name: newPlaylistName.trim(),
                        songs: []
                    };
                    setPlaylists([...playlists, newPlaylist]);
                    setActivePlaylist(newPlaylist.id);
                    setNewPlaylistName('');
                    setShowPlaylistModal(false);
                }
            };

            const createSamplePlaylist = () => {
                const samplePlaylist = {
                    id: Date.now(),
                    name: 'Sample Music',
                    songs: [
                        {
                            id: Date.now() + 1,
                            name: 'SoundHelix Song 1',
                            url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3',
                            isUrl: true
                        },
                        {
                            id: Date.now() + 2,
                            name: 'SoundHelix Song 2',
                            url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',
                            isUrl: true
                        },
                        {
                            id: Date.now() + 3,
                            name: 'SoundHelix Song 3',
                            url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3',
                            isUrl: true
                        }
                    ]
                };
                setPlaylists([...playlists, samplePlaylist]);
                setActivePlaylist(samplePlaylist.id);
            };

            const deletePlaylist = (id, e) => {
                if (e) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                setConfirmDelete({ type: 'playlist', id });
            };

            const confirmDeleteAction = () => {
                if (confirmDelete.type === 'playlist') {
                    const newPlaylists = playlists.filter(p => p.id !== confirmDelete.id);
                    setPlaylists(newPlaylists);
                    if (activePlaylist === confirmDelete.id) {
                        setActivePlaylist(null);
                    }
                    if (currentSong?.playlistId === confirmDelete.id) {
                        setCurrentSong(null);
                        setIsPlaying(false);
                    }
                } else if (confirmDelete.type === 'song') {
                    const updatedPlaylists = playlists.map(p => {
                        if (p.id === confirmDelete.playlistId) {
                            return { ...p, songs: p.songs.filter(s => s.id !== confirmDelete.songId) };
                        }
                        return p;
                    });
                    setPlaylists(updatedPlaylists);
                    if (currentSong?.id === confirmDelete.songId) {
                        setCurrentSong(null);
                        setIsPlaying(false);
                    }
                }
                setConfirmDelete(null);
            };

            const copyPlaylist = (playlist, e) => {
                if (e) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                const newPlaylist = {
                    id: Date.now(),
                    name: `${playlist.name} (Copy)`,
                    songs: [...playlist.songs]
                };
                setPlaylists([...playlists, newPlaylist]);
            };

            const handleFileUpload = (e) => {
                const files = Array.from(e.target.files);
                if (!activePlaylist) {
                    alert('Please select a playlist first');
                    return;
                }

                const newSongs = files.map(file => ({
                    id: Date.now() + Math.random(),
                    name: file.name,
                    url: URL.createObjectURL(file)
                }));

                const updatedPlaylists = playlists.map(p => {
                    if (p.id === activePlaylist) {
                        return { ...p, songs: [...p.songs, ...newSongs] };
                    }
                    return p;
                });

                setPlaylists(updatedPlaylists);
            };

            const handleUrlSubmit = () => {
                if (!urlInput.trim()) return;
                
                if (!activePlaylist) {
                    alert('Please select a playlist first');
                    return;
                }
                
                try {
                    new URL(urlInput);
                } catch {
                    alert('Please enter a valid URL');
                    return;
                }
                
                const song = {
                    id: Date.now() + Math.random(),
                    name: urlInput.split('/').pop().split('?')[0] || 'Audio from URL',
                    url: urlInput,
                    isUrl: true
                };
                
                const updatedPlaylists = playlists.map(p => {
                    if (p.id === activePlaylist) {
                        return { ...p, songs: [...p.songs, song] };
                    }
                    return p;
                });
                
                setPlaylists(updatedPlaylists);
                setUrlInput('');
                setShowUrlInput(false);
            };

            const playSong = (song, playlistId) => {
                setCurrentSong({ ...song, playlistId });
                setIsPlaying(true);
            };

            const togglePlay = () => {
                setIsPlaying(!isPlaying);
            };

            const handleTimeUpdate = () => {
                if (audioRef.current && audioRef.current.duration) {
                    const progress = (audioRef.current.currentTime / audioRef.current.duration) * 100;
                    setProgress(progress || 0);
                }
            };

            const handleSongEnd = () => {
                if (repeat && audioRef.current) {
                    audioRef.current.currentTime = 0;
                    setIsPlaying(true);
                } else {
                    const playlist = playlists.find(p => p.id === currentSong?.playlistId);
                    if (playlist) {
                        const currentIndex = playlist.songs.findIndex(s => s.id === currentSong.id);
                        if (currentIndex < playlist.songs.length - 1) {
                            playSong(playlist.songs[currentIndex + 1], currentSong.playlistId);
                        } else {
                            setIsPlaying(false);
                        }
                    }
                }
            };

            const handleProgressClick = (e) => {
                if (audioRef.current && audioRef.current.duration) {
                    const rect = e.currentTarget.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const percentage = x / rect.width;
                    audioRef.current.currentTime = percentage * audioRef.current.duration;
                }
            };

            const deleteSong = (playlistId, songId, e) => {
                if (e) {
                    e.stopPropagation();
                    e.preventDefault();
                }
                setConfirmDelete({ type: 'song', playlistId, songId });
            };

            const handleDragStart = (e, song, playlistId) => {
                e.stopPropagation();
                setDraggedSong({ song, playlistId });
            };

            const handleDragOver = (e) => {
                e.preventDefault();
                e.stopPropagation();
            };

            const handleDrop = (e, targetPlaylistId, targetIndex) => {
                e.preventDefault();
                e.stopPropagation();
                
                if (!draggedSong) return;

                const updatedPlaylists = [...playlists];
                const sourcePlaylist = updatedPlaylists.find(p => p.id === draggedSong.playlistId);
                const targetPlaylist = updatedPlaylists.find(p => p.id === targetPlaylistId);

                if (!sourcePlaylist || !targetPlaylist) return;

                if (draggedSong.playlistId === targetPlaylistId) {
                    const songs = [...sourcePlaylist.songs];
                    const draggedIndex = songs.findIndex(s => s.id === draggedSong.song.id);
                    const [removed] = songs.splice(draggedIndex, 1);
                    songs.splice(targetIndex, 0, removed);
                    sourcePlaylist.songs = songs;
                } else {
                    sourcePlaylist.songs = sourcePlaylist.songs.filter(s => s.id !== draggedSong.song.id);
                    targetPlaylist.songs.splice(targetIndex, 0, draggedSong.song);
                }

                setPlaylists(updatedPlaylists);
                setDraggedSong(null);
            };

            const formatTime = (seconds) => {
                if (!seconds || isNaN(seconds)) return '0:00';
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            const currentPlaylist = playlists.find(p => p.id === activePlaylist);

            return React.createElement('div', { className: 'h-screen flex flex-col bg-black' },
                // Main Layout
                React.createElement('div', { className: 'flex flex-1 overflow-hidden' },
                    // Sidebar
                    React.createElement('div', { className: 'w-64 bg-black p-6 flex flex-col gap-6' },
                        // Logo
                        React.createElement('div', { className: 'text-2xl font-bold' }, 'ðŸŽµ Music'),
                        
                        // Navigation
                        React.createElement('div', { className: 'flex flex-col gap-4' },
                            React.createElement('button', {
                                onClick: createPlaylist,
                                className: 'flex items-center gap-3 text-gray-400 hover:text-white transition'
                            }, 
                                React.createElement('span', { className: 'text-xl' }, 'âž•'),
                                'Create Playlist'
                            ),
                            React.createElement('button', {
                                onClick: createSamplePlaylist,
                                className: 'flex items-center gap-3 text-gray-400 hover:text-white transition'
                            }, 
                                React.createElement('span', { className: 'text-xl' }, 'ðŸŽ§'),
                                'Load Sample Music'
                            )
                        ),

                        React.createElement('div', { className: 'h-px bg-gray-800 my-2' }),

                        // Playlists
                        React.createElement('div', { className: 'flex-1 overflow-y-auto scrollbar-hide' },
                            React.createElement('div', { className: 'text-xs font-semibold text-gray-400 mb-3 uppercase' }, 'Your Playlists'),
                            React.createElement('div', { className: 'flex flex-col gap-2' },
                                playlists.map(playlist =>
                                    React.createElement('div', {
                                        key: playlist.id,
                                        onClick: () => setActivePlaylist(playlist.id),
                                        className: `px-3 py-2 rounded cursor-pointer transition group ${activePlaylist === playlist.id ? 'bg-gray-800' : 'hover:bg-gray-900'}`
                                    },
                                        React.createElement('div', { className: 'flex items-center justify-between' },
                                            React.createElement('div', { className: 'flex-1' },
                                                React.createElement('div', { className: `font-medium ${activePlaylist === playlist.id ? 'text-green-500' : 'text-white'}` }, playlist.name),
                                                React.createElement('div', { className: 'text-xs text-gray-400' }, `${playlist.songs.length} songs`)
                                            ),
                                            React.createElement('div', { className: 'flex gap-1 opacity-0 group-hover:opacity-100 transition' },
                                                React.createElement('button', {
                                                    onClick: (e) => copyPlaylist(playlist, e),
                                                    className: 'p-1 hover:text-green-500',
                                                    title: 'Copy'
                                                }, 'ðŸ“‹'),
                                                React.createElement('button', {
                                                    onClick: (e) => deletePlaylist(playlist.id, e),
                                                    className: 'p-1 hover:text-red-500',
                                                    title: 'Delete'
                                                }, 'ðŸ—‘ï¸')
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    ),

                    // Main Content
                    React.createElement('div', { className: 'flex-1 bg-gradient-to-b from-gray-900 to-black overflow-y-auto pb-32' },
                        currentPlaylist ? React.createElement('div', { className: 'p-8' },
                            // Playlist Header
                            React.createElement('div', { className: 'mb-8' },
                                React.createElement('div', { className: 'flex items-end gap-6' },
                                    React.createElement('div', { className: 'w-56 h-56 bg-gradient-to-br from-purple-600 to-blue-600 rounded shadow-2xl flex items-center justify-center text-6xl' }, 'ðŸŽµ'),
                                    React.createElement('div', {},
                                        React.createElement('div', { className: 'text-xs font-semibold uppercase mb-2' }, 'Playlist'),
                                        React.createElement('h1', { className: 'text-6xl font-bold mb-4' }, currentPlaylist.name),
                                        React.createElement('div', { className: 'text-sm text-gray-300' }, `${currentPlaylist.songs.length} songs`)
                                    )
                                )
                            ),

                            // Action Buttons
                            React.createElement('div', { className: 'flex items-center gap-4 mb-8' },
                                React.createElement('button', {
                                    onClick: () => fileInputRef.current?.click(),
                                    className: 'px-6 py-3 bg-green-600 hover:bg-green-500 rounded-full font-semibold transition flex items-center gap-2'
                                }, 'ðŸ“ Upload Files'),
                                React.createElement('button', {
                                    onClick: () => setShowUrlInput(!showUrlInput),
                                    className: 'px-6 py-3 border-2 border-gray-600 hover:border-white rounded-full font-semibold transition flex items-center gap-2'
                                }, 'ðŸ”— Add URL')
                            ),

                            // URL Input
                            showUrlInput && React.createElement('div', { className: 'mb-8 flex gap-2 max-w-2xl' },
                                React.createElement('input', {
                                    type: 'text',
                                    value: urlInput,
                                    onChange: (e) => setUrlInput(e.target.value),
                                    placeholder: 'Paste audio URL here...',
                                    className: 'flex-1 px-4 py-3 bg-gray-800 border border-gray-700 rounded text-white outline-none focus:border-green-500',
                                    onKeyPress: (e) => e.key === 'Enter' && handleUrlSubmit()
                                }),
                                React.createElement('button', {
                                    onClick: handleUrlSubmit,
                                    className: 'px-6 py-3 bg-green-600 hover:bg-green-500 rounded font-semibold'
                                }, 'Add')
                            ),

                            // Songs Table
                            currentPlaylist.songs.length > 0 ? React.createElement('div', {},
                                // Table Header
                                React.createElement('div', { className: 'grid grid-cols-12 gap-4 px-4 py-2 border-b border-gray-800 text-xs text-gray-400 uppercase' },
                                    React.createElement('div', { className: 'col-span-1' }, '#'),
                                    React.createElement('div', { className: 'col-span-9' }, 'Title'),
                                    React.createElement('div', { className: 'col-span-2 text-right' }, 'Actions')
                                ),
                                // Songs
                                React.createElement('div', { className: 'mt-2' },
                                    currentPlaylist.songs.map((song, index) =>
                                        React.createElement('div', {
                                            key: song.id,
                                            draggable: true,
                                            onDragStart: (e) => handleDragStart(e, song, currentPlaylist.id),
                                            onDragOver: handleDragOver,
                                            onDrop: (e) => handleDrop(e, currentPlaylist.id, index),
                                            onClick: () => playSong(song, currentPlaylist.id),
                                            className: `grid grid-cols-12 gap-4 px-4 py-3 rounded hover:bg-gray-800 cursor-pointer group ${currentSong?.id === song.id ? 'bg-gray-800' : ''}`
                                        },
                                            React.createElement('div', { className: 'col-span-1 flex items-center text-gray-400' },
                                                currentSong?.id === song.id && isPlaying 
                                                    ? React.createElement('span', { className: 'text-green-500' }, 'â™ª')
                                                    : index + 1
                                            ),
                                            React.createElement('div', { className: 'col-span-9 flex items-center' },
                                                React.createElement('div', {},
                                                    React.createElement('div', { className: `font-medium ${currentSong?.id === song.id ? 'text-green-500' : 'text-white'}` }, song.name),
                                                    React.createElement('div', { className: 'text-xs text-gray-400' }, song.isUrl ? 'URL Source' : 'Local File')
                                                )
                                            ),
                                            React.createElement('div', { className: 'col-span-2 flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100' },
                                                React.createElement('button', {
                                                    onClick: (e) => deleteSong(currentPlaylist.id, song.id, e),
                                                    className: 'p-2 hover:text-red-500'
                                                }, 'ðŸ—‘ï¸')
                                            )
                                        )
                                    )
                                )
                            ) : React.createElement('div', { className: 'text-center py-20 text-gray-400' },
                                React.createElement('div', { className: 'text-6xl mb-4' }, 'ðŸŽµ'),
                                React.createElement('div', { className: 'text-xl mb-2' }, 'No songs in this playlist'),
                                React.createElement('div', { className: 'text-sm' }, 'Upload files or add URLs to get started')
                            )
                        ) : React.createElement('div', { className: 'flex items-center justify-center h-full text-gray-400' },
                            React.createElement('div', { className: 'text-center' },
                                React.createElement('div', { className: 'text-6xl mb-4' }, 'ðŸŽµ'),
                                React.createElement('div', { className: 'text-xl' }, 'Select a playlist to view songs')
                            )
                        )
                    )
                ),

                // Modals
                showPlaylistModal && React.createElement('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50'
                },
                    React.createElement('div', { className: 'bg-gray-900 rounded-lg p-8 w-96 max-w-full mx-4' },
                        React.createElement('h2', { className: 'text-2xl font-bold mb-6' }, 'Create Playlist'),
                        React.createElement('input', {
                            type: 'text',
                            value: newPlaylistName,
                            onChange: (e) => setNewPlaylistName(e.target.value),
                            placeholder: 'Playlist name',
                            className: 'w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded text-white outline-none focus:border-green-500 mb-6',
                            onKeyPress: (e) => e.key === 'Enter' && handleCreatePlaylist(),
                            autoFocus: true
                        }),
                        React.createElement('div', { className: 'flex gap-3 justify-end' },
                            React.createElement('button', {
                                onClick: () => {
                                    setShowPlaylistModal(false);
                                    setNewPlaylistName('');
                                },
                                className: 'px-6 py-3 text-gray-400 hover:text-white transition'
                            }, 'Cancel'),
                            React.createElement('button', {
                                onClick: handleCreatePlaylist,
                                className: 'px-6 py-3 bg-green-600 hover:bg-green-500 rounded-full font-semibold'
                            }, 'Create')
                        )
                    )
                ),

                confirmDelete && React.createElement('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50'
                },
                    React.createElement('div', { className: 'bg-gray-900 rounded-lg p-8 w-96 max-w-full mx-4' },
                        React.createElement('h2', { className: 'text-2xl font-bold mb-4' }, 'Confirm Delete'),
                        React.createElement('p', { className: 'text-gray-300 mb-6' },
                            confirmDelete.type === 'playlist' 
                                ? 'Are you sure you want to delete this playlist and all its songs?' 
                                : 'Are you sure you want to delete this song?'
                        ),
                        React.createElement('div', { className: 'flex gap-3 justify-end' },
                            React.createElement('button', {
                                onClick: () => setConfirmDelete(null),
                                className: 'px-6 py-3 text-gray-400 hover:text-white transition'
                            }, 'Cancel'),
                            React.createElement('button', {
                                onClick: confirmDeleteAction,
                                className: 'px-6 py-3 bg-red-600 hover:bg-red-500 rounded-full font-semibold'
                            }, 'Delete')
                        )
                    )
                ),

                // Bottom Player
                currentSong && React.createElement('div', {
                    className: 'fixed bottom-0 left-0 right-0 bg-gradient-to-r from-gray-900 to-black border-t border-gray-800 px-4 py-3'
                },
                    React.createElement('div', { className: 'flex items-center justify-between gap-4 mb-2' },
                        // Song Info
                        React.createElement('div', { className: 'flex items-center gap-4 flex-1 min-w-0' },
                            React.createElement('div', { className: 'w-14 h-14 bg-gradient-to-br from-purple-600 to-blue-600 rounded flex items-center justify-center flex-shrink-0' }, 'ðŸŽµ'),
                            React.createElement('div', { className: 'min-w-0' },
                                React.createElement('div', { className: 'font-semibold truncate' }, currentSong.name),
                                React.createElement('div', { className: 'text-xs text-gray-400 truncate' }, 
                                    playlists.find(p => p.id === currentSong.playlistId)?.name
                                )
                            )
                        ),

                        // Player Controls
                        React.createElement('div', { className: 'flex flex-col items-center flex-1 max-w-2xl' },
                            React.createElement('div', { className: 'flex items-center gap-4 mb-2' },
                                React.createElement('button', {
                                    onClick: () => setShuffle(!shuffle),
                                    className: `p-2 ${shuffle ? 'text-green-500' : 'text-gray-400 hover:text-white'}`
                                }, 'ðŸ”€'),
                                React.createElement('button', { className: 'p-2 text-gray-400 hover:text-white' }, 'â®ï¸'),
                                React.createElement('button', {
                                    onClick: togglePlay,
                                    className: 'w-10 h-10 bg-white rounded-full flex items-center justify-center text-black hover:scale-105 transition'
                                }, isPlaying ? 'â¸ï¸' : 'â–¶ï¸'),
                                React.createElement('button', { className: 'p-2 text-gray-400 hover:text-white' }, 'â­ï¸'),
                                React.createElement('button', {
                                    onClick: () => setRepeat(!repeat),
                                    className: `p-2 ${repeat ? 'text-green-500' : 'text-gray-400 hover:text-white'}`
                                }, 'ðŸ”‚')
                            ),
                            // Progress Bar
                            React.createElement('div', { className: 'flex items-center gap-2 w-full' },
                                React.createElement('span', { className: 'text-xs text-gray-400 w-10 text-right' }, 
                                    formatTime(audioRef.current?.currentTime || 0)
                                ),
                                React.createElement('div', {
                                    className: 'flex-1 h-1 bg-gray-700 rounded-full cursor-pointer group',
                                    onClick: handleProgressClick
                                },
                                    React.createElement('div', {
                                        className: 'h-full bg-white rounded-full relative group-hover:bg-green-500',
                                        style: { width: `${progress}%` }
                                    },
                                        React.createElement('div', {
                                            className: 'absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100'
                                        })
                                    )
                                ),
                                React.createElement('span', { className: 'text-xs text-gray-400 w-10' }, 
                                    formatTime(audioRef.current?.duration || 0)
                                )
                            )
                        ),

                        // Volume Control
                        React.createElement('div', { className: 'flex items-center gap-2 flex-1 justify-end' },
                            React.createElement('span', {}, volume > 50 ? 'ðŸ”Š' : volume > 0 ? 'ðŸ”‰' : 'ðŸ”‡'),
                            React.createElement('input', {
                                type: 'range',
                                min: '0',
                                max: '100',
                                value: volume,
                                onChange: (e) => setVolume(Number(e.target.value)),
                                className: 'w-24 accent-white'
                            })
                        )
                    )
                ),

                // Audio Element
                currentSong && React.createElement('audio', {
                    ref: audioRef,
                    onTimeUpdate: handleTimeUpdate,
                    onEnded: handleSongEnd
                }),

                // Hidden File Input
                React.createElement('input', {
                    ref: fileInputRef,
                    type: 'file',
                    multiple: true,
                    accept: 'audio/*',
                    onChange: handleFileUpload,
                    className: 'hidden'
                })
            );
        }

        if (typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(MusicPlayer));
        }
    </script>
</body>
</html>
